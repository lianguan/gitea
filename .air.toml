root = "."
tmp_dir = ".air"

[build]
pre_cmd = ["killall -9 gitea 2>/dev/null || true"] # kill off potential zombie processes from previous runs
cmd = "make --no-print-directory backend"
bin = "gitea"
delay = 2000
include_ext = ["go", "tmpl"]
include_file = ["main.go"]
include_dir = ["app", "database", "bundles/options"]
exclude_dir = [
  "app/models/fixtures",
  "app/modules/avatar/identicon/testdata",
  "app/modules/avatar/testdata",
  "app/modules/git/tests",
  "app/modules/migration/file_format_testdata",
  "app/routers/private/tests",
  "app/services/gitdiff/testdata",
  "database/migrations/fixtures",
]
exclude_regex = ["_test.go$", "_gen.go$"]
stop_on_error = true

[log]
main_only = true
